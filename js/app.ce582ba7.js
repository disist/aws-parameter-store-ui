(function(e){function t(t){for(var s,n,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)n=o[d],i[n]&&f.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/aws-parameter-store-ui/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"007e":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("64a9"),i=a.n(s);i.a},1:function(e,t,a){e.exports=a("56d7")},2806:function(e,t,a){"use strict";var s=a("007e"),i=a.n(s);i.a},2810:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("ParameterStoreList")],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"controls"},[a("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForLoginCard",open:e.isOpenLoginCard},on:{"update:open":function(t){e.isOpenLoginCard=t}}},[a("div",{staticClass:"panel-heading controls__card-title",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForLoginCard"},slot:"trigger"},[a("strong",[e._v("Login Profile: "+e._s(e.activeProfileName))])]),a("div",{staticClass:"controls__card card"},[a("section",[a("b-dropdown",{attrs:{"aria-role":"list"}},[a("button",{staticClass:"button is-primary",attrs:{slot:"trigger"},slot:"trigger"},[a("span",[e._v("Profiles")])]),e._l(e.profiles,function(t,s){return a("b-dropdown-item",{key:t.name,attrs:{"aria-role":"listitem"},on:{click:function(t){return e.onProfileClick(s)}}},[e._v("\n                            "+e._s(t.name))])}),a("hr"),a("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.createNewProfile()}}},[e._v("Create New")])],2),a("b-field",{attrs:{label:"accessKeyId"}},[a("b-input",{attrs:{placeholder:"accessKeyId"},model:{value:e.accessKeyId,callback:function(t){e.accessKeyId=t},expression:"accessKeyId"}})],1),a("b-field",{attrs:{label:"secretAccessKey"}},[a("b-input",{attrs:{type:"password",placeholder:"secretAccessKey","password-reveal":""},model:{value:e.secretAccessKey,callback:function(t){e.secretAccessKey=t},expression:"secretAccessKey"}})],1),a("b-field",{attrs:{label:"region"}},[a("b-input",{attrs:{placeholder:"region"},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)],1),a("div",{staticClass:"buttons controls__login-buttons"},[a("b-button",{attrs:{disabled:e.ssm},on:{click:function(t){return e.sign()}}},[e._v("Sign")])],1)])]),a("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForFiltersCard",open:e.isOpenFiltersCard},on:{"update:open":function(t){e.isOpenFiltersCard=t}}},[a("div",{staticClass:"panel-heading controls__card-title",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForFiltersCard"},slot:"trigger"},[a("strong",[e._v("Filters")])]),a("div",{staticClass:"controls__card card"},[a("b-field",[a("b-button",{attrs:{type:"is-primary",disabled:!e.ssm,loading:e.loading},on:{click:function(t){return e.getAllParameters()}}},[e._v("Get all\n                        parameters\n                    ")]),a("span",{staticClass:"controls__path-label"},[e._v("By path: ")]),a("b-input",{attrs:{disabled:this.loading,placeholder:"by path"},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1),a("hr"),a("b-field",{attrs:{label:"Local Filter, Search by:"}},[a("b-select",{attrs:{disabled:!e.ssm,placeholder:"Select a Field"},model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}},e._l(["Name","Value"],function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])}),0)],1),a("b-field",[a("b-input",{attrs:{disabled:!e.ssm,placeholder:"Search value",rounded:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)])],1),a("div",{staticClass:"container parameter-store-list"},[a("b-table",{attrs:{data:e.list,striped:!0,hoverable:!0},on:{click:function(t){return e.onItemClick(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"Name",label:"Name",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Name))])]),a("b-table-column",{attrs:{field:"Type",label:"Type",sortable:""}},[e._v("\n                    "+e._s(t.row.Type)+"\n                ")]),a("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Value))])]),a("b-table-column",{attrs:{field:"Date",label:"LastModifiedDate",sortable:"",centered:""}},[a("span",{staticClass:"tag is-success"},[e._v("\n                    "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                ")])])]}}])})],1)])},o=[],l=(a("7f7f"),a("768b")),c=(a("ac6a"),a("5df3"),a("75fc")),u=(a("6762"),a("2fdb"),a("9954")),d=a.n(u),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"parameter-modal card"},[a("section",[a("b-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.itemForChange.Name))])]),a("b-field",{attrs:{label:"Value"}},[a("b-input",{attrs:{type:"textarea",placeholder:"Value"},model:{value:e.itemForChange.Value,callback:function(t){e.$set(e.itemForChange,"Value",t)},expression:"itemForChange.Value"}})],1),a("b-field",{attrs:{label:"LastModifiedDate"}},[a("span",[e._v(e._s(e.itemForChange.LastModifiedDate))])]),a("b-field",{attrs:{label:"History:"}},[a("b-table",{staticClass:"parameter-modal__history-table",attrs:{data:e.parameterHistory,striped:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"Version",label:"Version",width:"40",numeric:"",sortable:""}},[e._v("\n                            "+e._s(t.row.Version)+"\n                        ")]),a("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"400px"},attrs:{title:t.row.Value}},[e._v(e._s(t.row.Value)+"\n                            ")])]),a("b-table-column",{attrs:{field:"LastModifiedUser",label:"LastModifiedUser",sortable:""}},[e._v("\n                            "+e._s(t.row.LastModifiedUser)+"\n                        ")]),a("b-table-column",{attrs:{field:"Date",label:"LastModifiedDate",sortable:""}},[a("span",{staticClass:"tag is-success"},[e._v("\n                                "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                            ")])])]}}])})],1)],1),a("div",{staticClass:"parameter-modal__buttons buttons"},[a("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.onSave()}}},[e._v("Save")])],1)])])},p=[],h={props:["item","parameterHistory","ssmClient"],data:function(){return{itemForChange:null}},created:function(){this.itemForChange=Object.assign({},this.item)},methods:{onSave:function(){var e=this;if(this.item.Value!==this.itemForChange.Value){var t={Name:this.itemForChange.Name,Description:this.itemForChange.Description,Value:this.itemForChange.Value,Type:this.itemForChange.Type,KeyId:this.itemForChange.KeyId,Overwrite:!0,Tags:this.itemForChange.Tags,Tier:this.itemForChange.Tier,Policies:this.itemForChange.Policies};this.ssmClient.putParameter(t).promise().then(function(){e.$toast.open({message:"Value has been changed",type:"is-success"}),e.$emit("close")}).catch(function(t){console.log(t),e.$toast.open({message:"Something's not good",type:"is-danger"})})}else this.$toast.open({message:"New value not specified",type:"is-danger"})}}},m=h,b=(a("2806"),a("2877")),v=Object(b["a"])(m,f,p,!1,null,"2a5c50c8",null),g=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"profile-modal card"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.onSave()}}},[a("section",[a("b-field",{attrs:{label:"Name"}},[a("b-input",{attrs:{autofocus:"",required:"",placeholder:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("div",{staticClass:"profile-modal__buttons buttons"},[a("b-button",{attrs:{disabled:!e.name,type:"is-success"},on:{click:function(t){return e.onSave()}}},[e._v("Save")])],1)])])])},_=[],C={props:["item"],data:function(){return{name:""}},created:function(){this.item&&(this.name=this.item.name)},methods:{onSave:function(){if(this.name){var e=JSON.parse(localStorage.getItem("profiles"));e||(e=[]);var t={name:this.name};e.push(t),localStorage.setItem("profiles",JSON.stringify(e)),localStorage.setItem("activeProfile",e.indexOf(t)),this.$toast.open({message:"Profile has been created",type:"is-success"}),this.$emit("profile:created"),this.$emit("close")}}}},P=C,w=(a("ded0"),Object(b["a"])(P,y,_,!1,null,"163bb2f7",null)),S=w.exports,F={name:"ParameterStoreList",data:function(){return{isOpenLoginCard:!0,isOpenFiltersCard:!0,profiles:null,activeProfile:null,activeProfileName:"",accessKeyId:"",secretAccessKey:"",region:"",ssm:null,list:[],originalList:[],loading:!1,path:"/",searchField:"Name",searchText:""}},watch:{searchText:function(e){var t=this;!this.searchField||!e||e.length<2?this.list=this.originalList:this.list=this.originalList.filter(function(e){return e[t.searchField].toLowerCase().includes(t.searchText.toLowerCase())})}},created:function(){this.init()},methods:{init:function(){this.profiles=JSON.parse(localStorage.getItem("profiles"));var e=localStorage.getItem("activeProfile");e&&(this.activeProfile=+e),this.profiles||(this.profiles=[{name:"Common"}],this.activeProfile=0),this.profiles&&this._readProfile(this.activeProfile)},sign:function(){this.ssm=new d.a({accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,region:this.region}),this.profiles[this.activeProfile].accessKeyId=this.accessKeyId,this.profiles[this.activeProfile].secretAccessKey=this.secretAccessKey,this.profiles[this.activeProfile].region=this.region,this._saveProfile(),this.isOpenLoginCard=!1},onProfileClick:function(e){this.activeProfile=e,this._readProfile(this.activeProfile),this._saveProfile(),this.ssm=null},createNewProfile:function(){this.$modal.open({parent:this,component:S,hasModalCard:!0,props:{item:null},events:{"profile:created":this.onProfileCreated}})},getAllParameters:function(){var e=this;this.loading=!0,""!==this.searchText&&(this.searchText=""),this.list=this.originalList=[],this.fetchAllParameters(this.originalList).then(function(){e.loading=!1})},fetchAllParameters:function(e,t){var a=this,s={Path:this.path,Recursive:!0};return t&&(s.NextToken=t),this.ssm.getParametersByPath(s).promise().then(function(t){var s=t.NextToken,i=t.Parameters.map(function(e){return e.LastModifiedDate=e.LastModifiedDate.toGMTString(),e});return e.push.apply(e,Object(c["a"])(i)),s?a.fetchAllParameters(e,s):Promise.resolve(e)})},onItemClick:function(e){var t=this,a=this.$loading.open({isFullPage:!0});Promise.all([this.ssm.getParameter({Name:e.Name}).promise(),this.ssm.getParameterHistory({Name:e.Name}).promise()]).then(function(e){var s=Object(l["a"])(e,2),i=s[0],r=s[1];a.close(),t.$modal.open({parent:t,component:g,hasModalCard:!0,props:{item:i.Parameter,parameterHistory:r.Parameters,ssmClient:t.ssm}})})},onProfileCreated:function(){this.ssm=null,this.init()},_readProfile:function(e){this.accessKeyId=this.profiles[e].accessKeyId,this.secretAccessKey=this.profiles[e].secretAccessKey,this.region=this.profiles[e].region,this.activeProfileName=this.profiles[e].name},_saveProfile:function(){localStorage.setItem("profiles",JSON.stringify(this.profiles)),localStorage.setItem("activeProfile",this.activeProfile)}}},x=F,L=(a("a7b8"),Object(b["a"])(x,n,o,!1,null,"70ff71d5",null)),O=L.exports,k={name:"app",components:{ParameterStoreList:O}},N=k,I=(a("034f"),Object(b["a"])(N,i,r,!1,null,null,null)),K=I.exports,T=a("409f"),V=a.n(T),M=a("3e88"),A=a.n(M),D=a("15f3"),$=a.n(D),j=a("21ce"),J=a.n(j),H=a("1559"),E=a.n(H),U=a("4955"),B=a.n(U),G=a("c65b"),q=a.n(G),R=a("3799"),z=a.n(R),Q=a("d3af"),W=a.n(Q),X=a("7f0b"),Y=a.n(X);a("5abe");s["default"].config.productionTip=!1,s["default"].use(V.a),s["default"].use(A.a),s["default"].use($.a),s["default"].use(J.a),s["default"].use(E.a),s["default"].use(B.a),s["default"].use(q.a),s["default"].use(z.a),s["default"].use(W.a),s["default"].use(Y.a),new s["default"]({render:function(e){return e(K)}}).$mount("#app")},"64a9":function(e,t,a){},a7b8:function(e,t,a){"use strict";var s=a("2810"),i=a.n(s);i.a},cf47:function(e,t,a){},ded0:function(e,t,a){"use strict";var s=a("cf47"),i=a.n(s);i.a}});
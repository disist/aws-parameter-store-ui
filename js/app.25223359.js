(function(e){function t(t){for(var s,n,l=t[0],o=t[1],c=t[2],d=0,f=[];d<l.length;d++)n=l[d],r[n]&&f.push(r[n][0]),r[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/aws-parameter-store-ui/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"007e":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},"06a4":function(e,t,a){"use strict";var s=a("a8c0"),r=a.n(s);r.a},1:function(e,t,a){e.exports=a("56d7")},2806:function(e,t,a){"use strict";var s=a("007e"),r=a.n(s);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("ParameterStoreList")],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"controls"},[a("div",{staticClass:"controls__card card"},[a("section",[a("b-field",{attrs:{label:"accessKeyId"}},[a("b-input",{attrs:{placeholder:"accessKeyId"},model:{value:e.accessKeyId,callback:function(t){e.accessKeyId=t},expression:"accessKeyId"}})],1),a("b-field",{attrs:{label:"secretAccessKey"}},[a("b-input",{attrs:{type:"password",placeholder:"secretAccessKey","password-reveal":""},model:{value:e.secretAccessKey,callback:function(t){e.secretAccessKey=t},expression:"secretAccessKey"}})],1),a("b-field",{attrs:{label:"region"}},[a("b-input",{attrs:{placeholder:"region"},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)],1),a("div",{staticClass:"buttons controls__login-buttons"},[a("b-button",{attrs:{disabled:e.ssm},on:{click:function(t){return e.sign()}}},[e._v("Sign")])],1)]),a("div",{staticClass:"controls__card card"},[a("b-field",[a("b-button",{attrs:{type:"is-primary",disabled:!e.ssm,loading:e.loading},on:{click:function(t){return e.getAllParameters()}}},[e._v("Get all\n                    parameters\n                ")]),a("span",{staticClass:"controls__path-label"},[e._v("By path: ")]),a("b-input",{attrs:{disabled:this.loading,placeholder:"by path"},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1),a("hr"),a("b-field",{attrs:{label:"Local Filter, Search by:"}},[a("b-select",{attrs:{disabled:!e.ssm,placeholder:"Select a Field"},model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}},e._l(["Name","Value"],function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n                        "+e._s(t)+"\n                    ")])}),0)],1),a("b-field",[a("b-input",{attrs:{disabled:!e.ssm,placeholder:"Search value",rounded:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)]),a("div",{staticClass:"container parameter-store-list"},[a("b-table",{attrs:{data:e.list,striped:!0,hoverable:!0},on:{click:function(t){return e.onItemClick(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"Name",label:"Name",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Name))])]),a("b-table-column",{attrs:{field:"Type",label:"Type",sortable:""}},[e._v("\n                    "+e._s(t.row.Type)+"\n                ")]),a("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Value))])]),a("b-table-column",{attrs:{field:"Date",label:"LastModifiedDate",sortable:"",centered:""}},[a("span",{staticClass:"tag is-success"},[e._v("\n                    "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                ")])])]}}])})],1)])},l=[],o=a("768b"),c=(a("ac6a"),a("5df3"),a("75fc")),u=(a("6762"),a("2fdb"),a("9954")),d=a.n(u),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"parameter-modal card"},[a("section",[a("b-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.itemForChange.Name))])]),a("b-field",{attrs:{label:"Value"}},[a("b-input",{attrs:{type:"textarea",placeholder:"Value"},model:{value:e.itemForChange.Value,callback:function(t){e.$set(e.itemForChange,"Value",t)},expression:"itemForChange.Value"}})],1),a("b-field",{attrs:{label:"LastModifiedDate"}},[a("span",[e._v(e._s(e.itemForChange.LastModifiedDate))])]),a("b-field",{attrs:{label:"History:"}},[a("b-table",{staticClass:"parameter-modal__history-table",attrs:{data:e.parameterHistory,striped:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"Version",label:"Version",width:"40",numeric:"",sortable:""}},[e._v("\n                            "+e._s(t.row.Version)+"\n                        ")]),a("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"400px"},attrs:{title:t.row.Value}},[e._v(e._s(t.row.Value)+"\n                            ")])]),a("b-table-column",{attrs:{field:"LastModifiedUser",label:"LastModifiedUser",sortable:""}},[e._v("\n                            "+e._s(t.row.LastModifiedUser)+"\n                        ")]),a("b-table-column",{attrs:{field:"Date",label:"LastModifiedDate",sortable:""}},[a("span",{staticClass:"tag is-success"},[e._v("\n                                "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                            ")])])]}}])})],1)],1),a("div",{staticClass:"parameter-modal__buttons buttons"},[a("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.onSave()}}},[e._v("Save")])],1)])])},h=[],p={props:["item","parameterHistory","ssmClient"],data:function(){return{itemForChange:null}},created:function(){this.itemForChange=Object.assign({},this.item)},methods:{onSave:function(){var e=this;if(this.item.Value!==this.itemForChange.Value){var t={Name:this.itemForChange.Name,Description:this.itemForChange.Description,Value:this.itemForChange.Value,Type:this.itemForChange.Type,KeyId:this.itemForChange.KeyId,Overwrite:!0,Tags:this.itemForChange.Tags,Tier:this.itemForChange.Tier,Policies:this.itemForChange.Policies};this.ssmClient.putParameter(t).promise().then(function(){e.$toast.open({message:"Value has been changed",type:"is-success"}),e.$emit("close")}).catch(function(t){console.log(t),e.$toast.open({message:"Something's not good",type:"is-danger"})})}else this.$toast.open({message:"New value not specified",type:"is-danger"})}}},m=p,b=(a("2806"),a("2877")),g=Object(b["a"])(m,f,h,!1,null,"2a5c50c8",null),v=g.exports,y={name:"ParameterStoreList",data:function(){return{accessKeyId:"",secretAccessKey:"",region:"",ssm:null,list:[],originalList:[],loading:!1,path:"/",searchField:"Name",searchText:""}},watch:{searchText:function(e){var t=this;!this.searchField||!e||e.length<2?this.list=this.originalList:this.list=this.originalList.filter(function(e){return e[t.searchField].toLowerCase().includes(t.searchText.toLowerCase())})}},created:function(){this.accessKeyId=localStorage.getItem("accessKeyId"),this.secretAccessKey=localStorage.getItem("secretAccessKey"),this.region=localStorage.getItem("region")},methods:{sign:function(){this.ssm=new d.a({accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,region:this.region}),localStorage.setItem("accessKeyId",this.accessKeyId),localStorage.setItem("secretAccessKey",this.secretAccessKey),localStorage.setItem("region",this.region)},getAllParameters:function(){var e=this;this.loading=!0,""!==this.searchText&&(this.searchText=""),this.list=this.originalList=[],this.fetchAllParameters(this.originalList).then(function(){e.loading=!1})},fetchAllParameters:function(e,t){var a=this,s={Path:this.path,Recursive:!0};return t&&(s.NextToken=t),this.ssm.getParametersByPath(s).promise().then(function(t){var s=t.NextToken,r=t.Parameters.map(function(e){return e.LastModifiedDate=e.LastModifiedDate.toGMTString(),e});return e.push.apply(e,Object(c["a"])(r)),s?a.fetchAllParameters(e,s):Promise.resolve(e)})},onItemClick:function(e){var t=this,a=this.$loading.open({isFullPage:!0});Promise.all([this.ssm.getParameter({Name:e.Name}).promise(),this.ssm.getParameterHistory({Name:e.Name}).promise()]).then(function(e){var s=Object(o["a"])(e,2),r=s[0],i=s[1];a.close(),t.$modal.open({parent:t,component:v,hasModalCard:!0,props:{item:r.Parameter,parameterHistory:i.Parameters,ssmClient:t.ssm}})})}}},_=y,C=(a("06a4"),Object(b["a"])(_,n,l,!1,null,"4f4e42b1",null)),w=C.exports,x={name:"app",components:{ParameterStoreList:w}},S=x,P=(a("034f"),Object(b["a"])(S,r,i,!1,null,null,null)),K=P.exports,F=a("409f"),L=a.n(F),T=a("3e88"),I=a.n(T),k=a("15f3"),V=a.n(k),A=a("21ce"),M=a.n(A),D=a("1559"),N=a.n(D),O=a("4955"),j=a.n(O),$=a("c65b"),H=a.n($),E=a("3799"),U=a.n(E);a("5abe");s["default"].config.productionTip=!1,s["default"].use(L.a),s["default"].use(I.a),s["default"].use(V.a),s["default"].use(M.a),s["default"].use(N.a),s["default"].use(j.a),s["default"].use(H.a),s["default"].use(U.a),new s["default"]({render:function(e){return e(K)}}).$mount("#app")},"64a9":function(e,t,a){},a8c0:function(e,t,a){}});
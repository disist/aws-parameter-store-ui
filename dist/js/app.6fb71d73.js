(function(e){function t(t){for(var a,n,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)n=o[d],i[n]&&f.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/aws-parameter-store-ui/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([1,"chunk-vendors"]),s()})({0:function(e,t){},"034f":function(e,t,s){"use strict";var a=s("64a9"),i=s.n(a);i.a},1:function(e,t,s){e.exports=s("56d7")},2810:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("ParameterStoreList")],1)},r=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"controls"},[s("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForLoginCard",open:e.isOpenLoginCard},on:{"update:open":function(t){e.isOpenLoginCard=t}}},[s("div",{staticClass:"panel-heading controls__card-title",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForLoginCard"},slot:"trigger"},[s("strong",[e._v("Login Profile: "+e._s(e.activeProfileName))])]),s("div",{staticClass:"controls__card card"},[s("section",[s("b-dropdown",{attrs:{"aria-role":"list"}},[s("button",{staticClass:"button is-primary",attrs:{slot:"trigger"},slot:"trigger"},[s("span",[e._v("Profiles")])]),e._l(e.profiles,function(t,a){return s("b-dropdown-item",{key:t.name,attrs:{"aria-role":"listitem"},on:{click:function(t){return e.onProfileClick(a)}}},[e._v("\n                            "+e._s(t.name))])}),s("hr"),s("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(t){return e.createNewProfile()}}},[e._v("Create New")])],2),s("b-field",{attrs:{label:"accessKeyId"}},[s("b-input",{attrs:{placeholder:"accessKeyId"},model:{value:e.accessKeyId,callback:function(t){e.accessKeyId=t},expression:"accessKeyId"}})],1),s("b-field",{attrs:{label:"secretAccessKey"}},[s("b-input",{attrs:{type:"password",placeholder:"secretAccessKey","password-reveal":""},model:{value:e.secretAccessKey,callback:function(t){e.secretAccessKey=t},expression:"secretAccessKey"}})],1),s("b-field",{attrs:{label:"region"}},[s("b-input",{attrs:{placeholder:"region"},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)],1),s("div",{staticClass:"buttons controls__login-buttons"},[s("b-button",{attrs:{disabled:e.ssm},on:{click:function(t){return e.sign()}}},[e._v("Sign")])],1)])]),s("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForFiltersCard",open:e.isOpenFiltersCard},on:{"update:open":function(t){e.isOpenFiltersCard=t}}},[s("div",{staticClass:"panel-heading controls__card-title",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForFiltersCard"},slot:"trigger"},[s("strong",[e._v("Filters")])]),s("div",{staticClass:"controls__card card"},[s("b-field",[s("b-button",{attrs:{type:"is-primary",disabled:!e.ssm,loading:e.loading},on:{click:function(t){return e.getAllParameters()}}},[e._v("Get all\n                        parameters\n                    ")]),s("span",{staticClass:"controls__path-label"},[e._v("By path: ")]),s("b-input",{attrs:{disabled:this.loading,placeholder:"by path"},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1),s("hr"),s("b-field",{attrs:{label:"Local Filter, Search by:"}},[s("b-select",{attrs:{disabled:!e.ssm,placeholder:"Select a Field"},model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}},e._l(["Name","Value"],function(t){return s("option",{key:t,domProps:{value:t}},[e._v("\n                            "+e._s(t)+"\n                        ")])}),0)],1),s("b-field",[s("b-input",{attrs:{disabled:!e.ssm,placeholder:"Search value",rounded:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)])],1),s("div",{staticClass:"container parameter-store-list"},[s("b-table",{attrs:{data:e.list,striped:!0,hoverable:!0},on:{click:function(t){return e.onItemClick(t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[s("b-table-column",{attrs:{field:"Name",label:"Name",sortable:""}},[s("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Name))])]),s("b-table-column",{attrs:{field:"Type",label:"Type",sortable:""}},[e._v("\n                    "+e._s(t.row.Type)+"\n                ")]),s("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[s("div",{staticClass:"ellipsis",staticStyle:{width:"400px"}},[e._v(e._s(t.row.Value))])]),s("b-table-column",{attrs:{field:"Date",label:"LastModifiedDate",sortable:"",centered:""}},[s("span",{staticClass:"tag is-success"},[e._v("\n                    "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                ")])])]}}])})],1)])},o=[],l=(s("7f7f"),s("768b")),c=(s("ac6a"),s("5df3"),s("75fc")),u=(s("6762"),s("2fdb"),s("9954")),d=s.n(u),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"parameter-modal card"},[s("h1",{staticClass:"title"},[e._v("\n                [Parameter] "+e._s(e.itemForChange.Name)+"\n        ")]),s("i",[s("h4",{staticClass:"subtitle is-6"},[e._v("Last modified on "+e._s(e.itemForChange.LastModifiedDate.toLocaleString())+" UTC")])]),s("section",{staticClass:"section"},[s("b-field",{attrs:{label:"Value"}},[s("b-input",{attrs:{type:"textarea",placeholder:"Value"},model:{value:e.itemForChange.Value,callback:function(t){e.$set(e.itemForChange,"Value",t)},expression:"itemForChange.Value"}})],1),s("div",{staticClass:"parameter-modal__buttons buttons"},[s("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.onSave()}}},[e._v("Save")])],1)],1),s("section",{staticClass:"section"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[e._v("Previous Versions")]),s("b-table",{staticClass:"parameter-modal__history-table",attrs:{data:e.parameterHistory,striped:!0,narrowed:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[s("b-table-column",{attrs:{field:"Version",label:"#",width:"40",numeric:"",sortable:""}},[e._v("\n                        "+e._s(t.row.Version)+"\n                    ")]),s("b-table-column",{attrs:{field:"Value",label:"Value",sortable:""}},[s("div",{staticClass:"ellipsis",staticStyle:{"max-width":"400px"},attrs:{title:t.row.Value}},[e._v(e._s(t.row.Value)+"\n                        ")])]),s("b-table-column",{attrs:{field:"LastModifiedUser",label:"Modifier",sortable:""}},[e._v("\n                        "+e._s(t.row.LastModifiedUser)+"\n                    ")]),s("b-table-column",{attrs:{field:"Date",label:"Modified At",sortable:""}},[s("span",{staticClass:"tag is-success"},[e._v("\n                            "+e._s(new Date(t.row.LastModifiedDate).toLocaleDateString())+"\n                        ")])])]}}])})],1)])])])},p=[],h={props:["item","parameterHistory","ssmClient"],data:function(){return{itemForChange:null}},created:function(){this.itemForChange=Object.assign({},this.item)},methods:{onSave:function(){var e=this;if(this.item.Value!==this.itemForChange.Value){var t={Name:this.itemForChange.Name,Description:this.itemForChange.Description,Value:this.itemForChange.Value,Type:this.itemForChange.Type,KeyId:this.itemForChange.KeyId,Overwrite:!0,Tags:this.itemForChange.Tags,Tier:this.itemForChange.Tier,Policies:this.itemForChange.Policies};this.ssmClient.putParameter(t).promise().then(function(){e.$toast.open({message:"Value has been changed",type:"is-success"}),e.$emit("close")}).catch(function(t){console.log(t),e.$toast.open({message:"Something's not good",type:"is-danger"})})}else this.$toast.open({message:"New value not specified",type:"is-danger"})}}},m=h,b=(s("5a79"),s("2877")),v=Object(b["a"])(m,f,p,!1,null,"58294712",null),g=v.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"profile-modal card"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.onSave()}}},[s("section",[s("b-field",{attrs:{label:"Name"}},[s("b-input",{attrs:{autofocus:"",required:"",placeholder:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),s("div",{staticClass:"profile-modal__buttons buttons"},[s("b-button",{attrs:{disabled:!e.name,type:"is-success"},on:{click:function(t){return e.onSave()}}},[e._v("Save")])],1)])])])},y=[],C={props:["item"],data:function(){return{name:""}},created:function(){this.item&&(this.name=this.item.name)},methods:{onSave:function(){if(this.name){var e=JSON.parse(localStorage.getItem("profiles"));e||(e=[]);var t={name:this.name};e.push(t),localStorage.setItem("profiles",JSON.stringify(e)),localStorage.setItem("activeProfile",e.indexOf(t)),this.$toast.open({message:"Profile has been created",type:"is-success"}),this.$emit("profile:created"),this.$emit("close")}}}},P=C,w=(s("ded0"),Object(b["a"])(P,_,y,!1,null,"163bb2f7",null)),S=w.exports,F={name:"ParameterStoreList",data:function(){return{isOpenLoginCard:!0,isOpenFiltersCard:!0,profiles:null,activeProfile:null,activeProfileName:"",accessKeyId:"",secretAccessKey:"",region:"",ssm:null,list:[],originalList:[],loading:!1,path:"/",searchField:"Name",searchText:""}},watch:{searchText:function(e){var t=this;!this.searchField||!e||e.length<2?this.list=this.originalList:this.list=this.originalList.filter(function(e){return e[t.searchField].toLowerCase().includes(t.searchText.toLowerCase())})}},created:function(){this.init()},methods:{init:function(){this.profiles=JSON.parse(localStorage.getItem("profiles"));var e=localStorage.getItem("activeProfile");e&&(this.activeProfile=+e),this.profiles||(this.profiles=[{name:"Common"}],this.activeProfile=0),this.profiles&&this._readProfile(this.activeProfile)},sign:function(){this.ssm=new d.a({accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,region:this.region}),this.profiles[this.activeProfile].accessKeyId=this.accessKeyId,this.profiles[this.activeProfile].secretAccessKey=this.secretAccessKey,this.profiles[this.activeProfile].region=this.region,this._saveProfile(),this.isOpenLoginCard=!1},onProfileClick:function(e){this.activeProfile=e,this._readProfile(this.activeProfile),this._saveProfile(),this.ssm=null},createNewProfile:function(){this.$modal.open({parent:this,component:S,hasModalCard:!0,props:{item:null},events:{"profile:created":this.onProfileCreated}})},getAllParameters:function(){var e=this;this.loading=!0,""!==this.searchText&&(this.searchText=""),this.list=this.originalList=[],this.fetchAllParameters(this.originalList).then(function(){e.loading=!1})},fetchAllParameters:function(e,t){var s=this,a={Path:this.path,Recursive:!0};return t&&(a.NextToken=t),this.ssm.getParametersByPath(a).promise().then(function(t){var a=t.NextToken,i=t.Parameters.map(function(e){return e.LastModifiedDate=e.LastModifiedDate.toGMTString(),e});return e.push.apply(e,Object(c["a"])(i)),a?s.fetchAllParameters(e,a):Promise.resolve(e)})},onItemClick:function(e){var t=this,s=this.$loading.open({isFullPage:!0});Promise.all([this.ssm.getParameter({Name:e.Name}).promise(),this.ssm.getParameterHistory({Name:e.Name}).promise()]).then(function(e){var a=Object(l["a"])(e,2),i=a[0],r=a[1];s.close(),t.$modal.open({parent:t,component:g,hasModalCard:!0,props:{item:i.Parameter,parameterHistory:r.Parameters,ssmClient:t.ssm}})})},onProfileCreated:function(){this.ssm=null,this.init()},_readProfile:function(e){this.accessKeyId=this.profiles[e].accessKeyId,this.secretAccessKey=this.profiles[e].secretAccessKey,this.region=this.profiles[e].region,this.activeProfileName=this.profiles[e].name},_saveProfile:function(){localStorage.setItem("profiles",JSON.stringify(this.profiles)),localStorage.setItem("activeProfile",this.activeProfile)}}},x=F,L=(s("a7b8"),Object(b["a"])(x,n,o,!1,null,"70ff71d5",null)),O=L.exports,k={name:"app",components:{ParameterStoreList:O}},I=k,N=(s("034f"),Object(b["a"])(I,i,r,!1,null,null,null)),K=N.exports,T=s("409f"),V=s.n(T),A=s("3e88"),M=s.n(A),$=s("15f3"),j=s.n($),D=s("21ce"),J=s.n(D),E=s("1559"),H=s.n(E),U=s("4955"),B=s.n(U),G=s("c65b"),q=s.n(G),R=s("3799"),z=s.n(R),Q=s("d3af"),W=s.n(Q),X=s("7f0b"),Y=s.n(X);s("5abe");a["default"].config.productionTip=!1,a["default"].use(V.a),a["default"].use(M.a),a["default"].use(j.a),a["default"].use(J.a),a["default"].use(H.a),a["default"].use(B.a),a["default"].use(q.a),a["default"].use(z.a),a["default"].use(W.a),a["default"].use(Y.a),new a["default"]({render:function(e){return e(K)}}).$mount("#app")},"5a79":function(e,t,s){"use strict";var a=s("6861"),i=s.n(a);i.a},"64a9":function(e,t,s){},6861:function(e,t,s){},a7b8:function(e,t,s){"use strict";var a=s("2810"),i=s.n(a);i.a},cf47:function(e,t,s){},ded0:function(e,t,s){"use strict";var a=s("cf47"),i=s.n(a);i.a}});